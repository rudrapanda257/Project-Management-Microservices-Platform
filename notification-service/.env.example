# Environment Variables for Task Management Platform
# Copy this file to .env and update values as needed
# IMPORTANT: Add .env to .gitignore - never commit secrets!

# ========================================
# Database Configuration (PostgreSQL)
# ========================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=taskmanager_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# ========================================
# Kafka Configuration
# ========================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
ZOOKEEPER_CLIENT_PORT=2181
ZOOKEEPER_TICK_TIME=2000

# Kafka Broker Settings
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1

# ========================================
# Service Discovery (Eureka)
# ========================================
EUREKA_SERVER_URL=http://eureka-server:8761/eureka
EUREKA_INSTANCE_PREFER_IP=false
EUREKA_INSTANCE_HOSTNAME=eureka-server

# ========================================
# Config Server
# ========================================
CONFIG_SERVER_URL=http://config-server:8888
CONFIG_REPO_URI=https://github.com/yourusername/config-repo

# ========================================
# Security & Authentication
# ========================================
# WARNING: Change this in production! Use a strong, random secret.
# Generate: openssl rand -base64 32
JWT_SECRET=mySecretKey12345678901234567890
JWT_EXPIRATION=86400000

# ========================================
# Application Profiles
# ========================================
# Options: dev, docker, prod
SPRING_PROFILES_ACTIVE=docker

# ========================================
# Service Ports (for reference)
# ========================================
# config-server: 8888
# eureka-server: 8761
# user-service: 8081
# project-service: 8082
# notification-service: 8083
# api-gateway: 8080

# ========================================
# Logging Configuration
# ========================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_TASKMANAGER=DEBUG

# ========================================
# Health Check & Monitoring
# ========================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# ========================================
# Notes:
# ========================================
# 1. For local development (Docker Compose):
#    - Use service names (postgres, kafka, etc.)
#    - These resolve via Docker's internal DNS
#
# 2. For Kubernetes:
#    - Use service names with namespace
#    - Example: postgres.taskmanager.svc.cluster.local
#
# 3. For production:
#    - Use strong, random passwords
#    - Use secrets management (HashiCorp Vault, AWS Secrets Manager)
#    - Enable SSL/TLS for all connections
#    - Use managed database services
#
# 4. To use this file:
#    cp .env.example .env
#    # Edit .env with your values
#    # Don't commit .env to git!